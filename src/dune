(executable
  (name i3_ws_rename)
  (modules i3_ws_rename conf fa_icons utils)
  (preprocess (pps lwt
                   lwt.unix
                   lwt_ppx
                   ppx_deriving_yojson
                   ppx_deriving.show))
  (libraries i3ipc
             cmdliner
             lwt
             lwt.unix
             lwt_ppx
             logs.fmt
             logs.lwt
             fmt))

(alias
  (name   compress)
  (deps   i3_ws_rename.exe)
  (action (run upx i3_ws_rename.exe)))

(install
  (section bin)
  (files (i3_ws_rename.exe as i3-ws-rename)))
